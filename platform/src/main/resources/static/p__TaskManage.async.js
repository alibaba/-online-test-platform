(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[10],{"KOS/":function(e,a,t){"use strict";t.r(a);var n,r,l,s,i=t("jehZ"),d=t.n(i),o=(t("IzEo"),t("bx4M")),c=(t("g9YV"),t("wCAj")),u=(t("+L6B"),t("2/Rp")),p=(t("miYZ"),t("tsqr")),m=(t("/zsF"),t("PArb")),h=(t("Awhp"),t("KrTs")),f=t("2Taf"),b=t.n(f),g=t("vZ4D"),v=t.n(g),k=t("l4Ni"),E=t.n(k),y=t("ujKo"),V=t.n(y),w=t("MhPg"),x=t.n(w),C=(t("2qtc"),t("kLXV")),D=(t("5NDa"),t("5rEg")),M=t("p0pE"),I=t.n(M),F=(t("y8nQ"),t("Vl3Y")),Y=t("q1tI"),A=t.n(Y),O=t("MuoO"),S=t("wY1l"),L=t.n(S),z=t("wd/R"),j=t.n(z),q=t("zHco"),T=t("MQzu"),H=t.n(T),P=F["a"].Item,K=function(e){return Object.keys(e).map(function(a){return e[a]}).join(",")},N=["processing","success","error"],Q=["\u8fd0\u884c\u4e2d","\u8fd0\u884c\u6210\u529f","\u8fd0\u884c\u5931\u8d25"],R=F["a"].create()(function(e){var a=e.current,t=e.modalVisible,n=e.form,r=e.handleAdd,l=e.handleUpdate,s=e.handleModalVisible,i=function(){n.validateFields(function(e,t){e||(n.resetFields(),a&&a.id&&l(I()({},t,{id:a.id})),r(t))})};return A.a.createElement(C["a"],{destroyOnClose:!0,title:a&&a.id?"\u7f16\u8f91\u4efb\u52a1":"\u65b0\u5efa\u4efb\u52a1",visible:t,onOk:i,onCancel:function(){return s()}},A.a.createElement(P,{labelCol:{span:6},wrapperCol:{span:15},label:"\u4efb\u52a1\u540d\u79f0"},n.getFieldDecorator("taskInfo",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u4efb\u52a1\u540d\u79f0\uff01"}],initialValue:a.taskInfo})(A.a.createElement(D["a"],{placeholder:"\u8bf7\u8f93\u5165"}))),A.a.createElement(P,{labelCol:{span:6},wrapperCol:{span:15},label:"\u6d4b\u8bd5\u5730\u5740"},n.getFieldDecorator("host",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u673a\u5668IP\uff01"}],initialValue:a.host})(A.a.createElement(D["a"],{placeholder:"\u8bf7\u8f93\u5165"}))),A.a.createElement(P,{labelCol:{span:6},wrapperCol:{span:15},label:"\u6d4b\u8bd5\u6570\u636e\u8def\u5f84"},n.getFieldDecorator("testData",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6d4b\u8bd5\u6570\u636e\u8def\u5f84\uff01"}],initialValue:a.testData})(A.a.createElement(D["a"],{placeholder:"\u8bf7\u8f93\u5165"}))))}),U=(n=Object(O["connect"])(function(e){var a=e.task,t=e.loading;return{task:a,loading:t.models.task}}),r=F["a"].create(),n(l=r((s=function(e){function a(){var e,t;b()(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return t=E()(this,(e=V()(a)).call.apply(e,[this].concat(r))),t.state={current:{},modalVisible:!1,formValues:{}},t.columns=[{title:"\u4efb\u52a1id",dataIndex:"id"},{title:"\u4efb\u52a1\u540d\u79f0",dataIndex:"taskInfo"},{title:"\u72b6\u6001",dataIndex:"taskResult",filters:[{text:Q[0],value:0},{text:Q[1],value:1},{text:Q[2],value:2}],render:function(e){return A.a.createElement(h["a"],{status:N[e],text:Q[e]})}},{title:"\u6d4b\u8bd5\u5730\u5740",dataIndex:"host"},{title:"\u6d4b\u8bd5\u6570\u636e",dataIndex:"testData"},{title:"\u5f00\u59cb\u65f6\u95f4",dataIndex:"startTime",render:function(e){return A.a.createElement("span",null,e?j()(e).format("YYYY-MM-DD HH:mm:ss"):void 0)}},{title:"\u7ed3\u675f\u65f6\u95f4",dataIndex:"endTime",render:function(e){return A.a.createElement("span",null,e?j()(e).format("YYYY-MM-DD HH:mm:ss"):void 0)}},{title:"\u64cd\u4f5c",render:function(e,a){return A.a.createElement(Y["Fragment"],null,A.a.createElement("a",{onClick:function(){return t.handleDelete(a.id)}},"\u5220\u9664"),A.a.createElement(m["a"],{type:"vertical"}),A.a.createElement(L.a,{to:"/taskDetail/".concat(a.id)},"\u8be6\u60c5"))}}],t.handleStandardTableChange=function(e,a,n){var r=t.props.dispatch,l=t.state.formValues,s=Object.keys(a).reduce(function(e,t){var n=I()({},e);return n[t]=K(a[t]),n},{}),i=I()({currentPage:e.current,pageSize:e.pageSize},l,s);n.field&&(i.sorter="".concat(n.field,"_").concat(n.order)),r({type:"task/fetch",payload:i})},t.handleFormReset=function(){var e=t.props,a=e.form,n=e.dispatch;a.resetFields(),t.setState({formValues:{}}),n({type:"task/fetch",payload:{}})},t.handleSearch=function(e){e.preventDefault();var a=t.props,n=a.dispatch,r=a.form;r.validateFields(function(e,a){if(!e){var r=I()({},a,{updatedAt:a.updatedAt&&a.updatedAt.valueOf()});t.setState({formValues:r}),n({type:"task/fetch",payload:r})}})},t.handleModalVisible=function(e,a){t.setState({modalVisible:!!e,current:a||{}})},t.handleAdd=function(e){var a=t.props.dispatch;a({type:"task/add",payload:e}),p["a"].success("\u6dfb\u52a0\u6210\u529f"),t.handleModalVisible()},t.handleUpdate=function(e){var a=t.props.dispatch;a({type:"task/update",payload:e}),p["a"].success("\u7f16\u8f91\u6210\u529f"),t.handleModalVisible()},t.handleDelete=function(e){var a=t.props.dispatch;a({type:"task/remove",payload:e}),p["a"].success("\u5220\u9664\u6210\u529f")},t}return x()(a,e),v()(a,[{key:"render",value:function(){var e=this,a=this.props,t=a.task.data,n=a.loading,r=this.state,l=r.current,s=r.modalVisible,i={handleAdd:this.handleAdd,handleUpdate:this.handleUpdate,handleModalVisible:this.handleModalVisible};return A.a.createElement(q["a"],null,A.a.createElement(o["a"],{bordered:!1},A.a.createElement("div",{className:H.a.tableList},A.a.createElement("div",{className:H.a.tableListOperator},A.a.createElement(u["a"],{icon:"plus",type:"primary",onClick:function(){return e.handleModalVisible(!0)}},"\u65b0\u5efa")),A.a.createElement(c["a"],{rowKey:"id",loading:n,dataSource:t.list,bordered:!0,columns:this.columns,pagination:I()({showSizeChanger:!0,showQuickJumper:!0},t.pagination),onChange:this.handleStandardTableChange}))),A.a.createElement(R,d()({},i,{current:l,modalVisible:s})))}}]),a}(Y["PureComponent"]),l=s))||l)||l);a["default"]=U},MQzu:function(e,a,t){e.exports={tableList:"antd-pro-pages-task-manage-index-tableList",tableListOperator:"antd-pro-pages-task-manage-index-tableListOperator",tableListForm:"antd-pro-pages-task-manage-index-tableListForm",submitButtons:"antd-pro-pages-task-manage-index-submitButtons"}}}]);