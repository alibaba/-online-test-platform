(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[8],{"6MrE":function(e,t,a){e.exports={"ant-tag":"ant-tag","anticon-close":"anticon-close","ant-tag-has-color":"ant-tag-has-color","ant-tag-checkable":"ant-tag-checkable","ant-tag-checkable-checked":"ant-tag-checkable-checked","ant-tag-hidden":"ant-tag-hidden","ant-tag-pink":"ant-tag-pink","ant-tag-pink-inverse":"ant-tag-pink-inverse","ant-tag-magenta":"ant-tag-magenta","ant-tag-magenta-inverse":"ant-tag-magenta-inverse","ant-tag-red":"ant-tag-red","ant-tag-red-inverse":"ant-tag-red-inverse","ant-tag-volcano":"ant-tag-volcano","ant-tag-volcano-inverse":"ant-tag-volcano-inverse","ant-tag-orange":"ant-tag-orange","ant-tag-orange-inverse":"ant-tag-orange-inverse","ant-tag-yellow":"ant-tag-yellow","ant-tag-yellow-inverse":"ant-tag-yellow-inverse","ant-tag-gold":"ant-tag-gold","ant-tag-gold-inverse":"ant-tag-gold-inverse","ant-tag-cyan":"ant-tag-cyan","ant-tag-cyan-inverse":"ant-tag-cyan-inverse","ant-tag-lime":"ant-tag-lime","ant-tag-lime-inverse":"ant-tag-lime-inverse","ant-tag-green":"ant-tag-green","ant-tag-green-inverse":"ant-tag-green-inverse","ant-tag-blue":"ant-tag-blue","ant-tag-blue-inverse":"ant-tag-blue-inverse","ant-tag-geekblue":"ant-tag-geekblue","ant-tag-geekblue-inverse":"ant-tag-geekblue-inverse","ant-tag-purple":"ant-tag-purple","ant-tag-purple-inverse":"ant-tag-purple-inverse"}},fUsW:function(e,t,a){e.exports={descriptionList:"antd-pro-components-description-list-index-descriptionList",title:"antd-pro-components-description-list-index-title",term:"antd-pro-components-description-list-index-term",detail:"antd-pro-components-description-list-index-detail",small:"antd-pro-components-description-list-index-small",large:"antd-pro-components-description-list-index-large",vertical:"antd-pro-components-description-list-index-vertical"}},rRHa:function(e,t,a){"use strict";a.r(t);a("g9YV");var n=a("wCAj"),r=(a("IzEo"),a("bx4M")),o=(a("cIOH"),a("6MrE"),a("q1tI")),l=a.n(o),i=a("TSYQ"),s=a.n(i),c=a("BGR+"),u=a("VCL8"),p=a("CtXQ"),d=a("wEI+");function m(e){return m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function f(){return f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},f.apply(this,arguments)}function g(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e,t,a){return t&&b(e.prototype,t),a&&b(e,a),e}function y(e,t){return!t||"object"!==m(t)&&"function"!==typeof t?k(e):t}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e){return E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},E(e)}function x(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}function C(e,t){return C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},C(e,t)}var O=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a},S=function(e){function t(){var e;return v(this,t),e=y(this,E(t).apply(this,arguments)),e.handleClick=function(){var t=e.props,a=t.checked,n=t.onChange;n&&n(!a)},e.renderCheckableTag=function(t){var a,n=t.getPrefixCls,r=e.props,l=r.prefixCls,i=r.className,c=r.checked,u=O(r,["prefixCls","className","checked"]),p=n("tag",l),d=s()(p,(a={},g(a,"".concat(p,"-checkable"),!0),g(a,"".concat(p,"-checkable-checked"),c),a),i);return delete u.onChange,o["createElement"]("span",f({},u,{className:d,onClick:e.handleClick}))},e}return x(t,e),h(t,[{key:"render",value:function(){return o["createElement"](d["a"],null,this.renderCheckableTag)}}]),t}(o["Component"]),w=a("09Wf"),j=a("6CfX"),P=a("g0mS");function I(e){return I="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I(e)}function L(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function N(){return N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},N.apply(this,arguments)}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function R(e,t,a){return t&&F(e.prototype,t),a&&F(e,a),e}function D(e,t){return!t||"object"!==I(t)&&"function"!==typeof t?_(e):t}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M(e){return M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},M(e)}function A(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&V(e,t)}function V(e,t){return V=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},V(e,t)}var Y=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a},z=new RegExp("^(".concat(w["a"].join("|"),")(-inverse)?$")),H=function(e){function t(e){var a;return T(this,t),a=D(this,M(t).call(this,e)),a.state={visible:!0},a.handleIconClick=function(e){a.setVisible(!1,e)},a.renderTag=function(e){var t=a.props,n=t.children,r=Y(t,["children"]),l="onClick"in r||n&&"a"===n.type,i=Object(c["a"])(r,["onClose","afterClose","color","visible","closable","prefixCls"]);return l?o["createElement"](P["a"],null,o["createElement"]("span",N({},i,{className:a.getTagClassName(e),style:a.getTagStyle()}),n,a.renderCloseIcon())):o["createElement"]("span",N({},i,{className:a.getTagClassName(e),style:a.getTagStyle()}),n,a.renderCloseIcon())},Object(j["a"])(!("afterClose"in e),"Tag","'afterClose' will be deprecated, please use 'onClose', we will remove this in the next version."),a}return A(t,e),R(t,[{key:"getTagStyle",value:function(){var e=this.props,t=e.color,a=e.style,n=this.isPresetColor();return N({backgroundColor:t&&!n?t:void 0},a)}},{key:"getTagClassName",value:function(e){var t,a=e.getPrefixCls,n=this.props,r=n.prefixCls,o=n.className,l=n.color,i=this.state.visible,c=this.isPresetColor(),u=a("tag",r);return s()(u,(t={},L(t,"".concat(u,"-").concat(l),c),L(t,"".concat(u,"-has-color"),l&&!c),L(t,"".concat(u,"-hidden"),!i),t),o)}},{key:"setVisible",value:function(e,t){var a=this.props,n=a.onClose,r=a.afterClose;n&&n(t),r&&!n&&r(),t.defaultPrevented||"visible"in this.props||this.setState({visible:e})}},{key:"isPresetColor",value:function(){var e=this.props.color;return!!e&&z.test(e)}},{key:"renderCloseIcon",value:function(){var e=this.props.closable;return e?o["createElement"](p["a"],{type:"close",onClick:this.handleIconClick}):null}},{key:"render",value:function(){return o["createElement"](d["a"],null,this.renderTag)}}],[{key:"getDerivedStateFromProps",value:function(e){return"visible"in e?{visible:e.visible}:null}}]),t}(o["Component"]);H.CheckableTag=S,H.defaultProps={closable:!1},Object(u["polyfill"])(H);var B=H,W=(a("Awhp"),a("KrTs")),J=(a("14J3"),a("BMrR")),K=(a("+L6B"),a("2/Rp")),Q=(a("jCWc"),a("kPKH")),U=a("p0pE"),X=a.n(U),Z=a("2Taf"),q=a.n(Z),G=a("vZ4D"),$=a.n(G),ee=a("l4Ni"),te=a.n(ee),ae=a("ujKo"),ne=a.n(ae),re=a("MhPg"),oe=a.n(re),le=(a("OaEy"),a("2fM7")),ie=(a("y8nQ"),a("Vl3Y")),se=a("MuoO"),ce=a("wY1l"),ue=a.n(ce),pe=a("zHco"),de=a("jehZ"),me=a.n(de),fe=a("eHn4"),ge=a.n(fe),ve=a("Y/ft"),be=a.n(ve),he=a("fUsW"),ye=a.n(he),ke=function(e){var t,a=e.className,n=e.title,r=e.col,o=void 0===r?3:r,i=e.layout,c=void 0===i?"horizontal":i,u=e.gutter,p=void 0===u?32:u,d=e.children,m=e.size,f=be()(e,["className","title","col","layout","gutter","children","size"]),g=s()(ye.a.descriptionList,ye.a[c],a,(t={},ge()(t,ye.a.small,"small"===m),ge()(t,ye.a.large,"large"===m),t)),v=o>4?4:o;return l.a.createElement("div",me()({className:g},f),n?l.a.createElement("div",{className:ye.a.title},n):null,l.a.createElement(J["a"],{gutter:p},l.a.Children.map(d,function(e){return e?l.a.cloneElement(e,{column:v}):e})))},Ee=ke,xe=(a("17x9"),{1:{xs:24},2:{xs:24,sm:12},3:{xs:24,sm:12,md:8},4:{xs:24,sm:12,md:6}}),Ce=function(e){var t=e.term,a=e.column,n=e.children,r=be()(e,["term","column","children"]);return l.a.createElement(Q["a"],me()({},xe[a],r),t&&l.a.createElement("div",{className:ye.a.term},t),null!==n&&void 0!==n&&l.a.createElement("div",{className:ye.a.detail},n))};Ce.defaultProps={term:""};var Oe=Ce;Ee.Description=Oe;var Se,we,je,Pe,Ie=Ee,Le=a("wd/R"),Ne=a.n(Le),Te=a("tMxR"),Fe=a.n(Te),Re=ie["a"].Item,De=le["a"].Option,_e=Ie.Description,Me=["error","success","Warning"],Ae=["FAIL","PASS","MISS"],Ve=(Se=Object(se["connect"])(function(e){var t=e.taskDetail,a=e.loading;return{taskDetail:t,loading:a.models.taskDetail}}),we=ie["a"].create(),Se(je=we((Pe=function(e){function t(){var e,a;q()(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return a=te()(this,(e=ne()(t)).call.apply(e,[this].concat(r))),a.state={formValues:{},searchList:[]},a.handleFormReset=function(){var e=a.props.form;e.resetFields(),a.setState({formValues:{},searchList:[]})},a.handleSearch=function(e){e.preventDefault();var t=a.props,n=t.form,r=t.taskDetail.data.list;n.validateFields(function(e,t){if(!e){var n=X()({},t),o=r.filter(function(e){return e.finalStatus===t.status});a.setState({formValues:n,searchList:o})}})},a}return oe()(t,e),$()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.dispatch,a=e.match,n=a.params;t({type:"taskDetail/fetch",payload:{id:n.id||"-1"}})}},{key:"renderForm",value:function(){var e=this.props.form.getFieldDecorator;return l.a.createElement(ie["a"],{onSubmit:this.handleSearch,layout:"inline"},l.a.createElement(J["a"],{gutter:{md:8,lg:24,xl:48}},l.a.createElement(Q["a"],{md:8,sm:24},l.a.createElement(Re,{label:"\u9a8c\u8bc1\u72b6\u6001"},e("status")(l.a.createElement(le["a"],{placeholder:"\u8bf7\u9009\u62e9",style:{width:"100%"}},l.a.createElement(De,{value:"FAIL"},"\u5931\u8d25"),l.a.createElement(De,{value:"PASS"},"\u6210\u529f"),l.a.createElement(De,{value:"MISS"},"\u672a\u547d\u4e2d"))))),l.a.createElement(Q["a"],{md:8,sm:24},l.a.createElement("span",{className:Fe.a.submitButtons},l.a.createElement(K["a"],{type:"primary",htmlType:"submit"},"\u67e5\u8be2"),l.a.createElement(K["a"],{style:{marginLeft:8},onClick:this.handleFormReset},"\u91cd\u7f6e")))))}},{key:"render",value:function(){var e=this.props,t=e.taskDetail,a=t.task,o=t.data,i=e.loading,s=e.match.params,c=this.state,u=c.formValues,p=c.searchList,d=[{title:"\u89c4\u5219id",dataIndex:"ruleId"},{title:"\u89c4\u5219\u540d\u79f0",dataIndex:"ruleName"},{title:"\u547d\u4e2d\u6b21\u6570",dataIndex:"total"},{title:"\u9a8c\u8bc1\u7ed3\u679c",dataIndex:"finalStatus",filters:[{text:Ae[0],value:0},{text:Ae[1],value:1}],render:function(e){return l.a.createElement(W["a"],{status:Me["FAIL"===e?0:"PASS"===e?1:2],text:e})}},{title:"\u9519\u8bef\u4fe1\u606f",dataIndex:"error",render:function(e,t){return"FAIL"===t.finalStatus?l.a.createElement(ue.a,{to:"/caseDetail/".concat(a.id,"/").concat(t.failed.join(","))},e):null}}],m=function(e){var t=e.title,a=e.value,n=e.bordered;return l.a.createElement("div",{className:Fe.a.headerInfo},l.a.createElement("span",null,t),l.a.createElement("p",null,a),n&&l.a.createElement("em",null))},f=l.a.createElement(Ie,{className:Fe.a.headerList,size:"small",col:"2"},l.a.createElement(_e,{term:"\u4efb\u52a1id"},s.id),l.a.createElement(_e,{term:"\u4efb\u52a1\u540d\u79f0"},a.taskInfo),l.a.createElement(_e,{term:"\u6d4b\u8bd5\u5730\u5740"},a.host),l.a.createElement(_e,{term:"\u6d4b\u8bd5\u6570\u636e"},a.testData),l.a.createElement(_e,{term:"\u6267\u884c\u65f6\u95f4"},Ne()(a.startTime).format("YYYY-MM-DD HH:mm:ss"))),g=0,v=0,b=0;return o.list.forEach(function(e){"PASS"===e.finalStatus?g+=1:"FAIL"===e.finalStatus?v+=1:"MISS"===e.finalStatus&&(b+=1)}),l.a.createElement(pe["a"],{title:l.a.createElement(B,{style:{fontSize:18,padding:"6px 6px 6px 6px"},color:1===a.taskResult?"#87d068":0===a.taskResult?"#108ee9":"#ff0000"},1===a.taskResult?"\u6210\u529f":0===a.taskResult?"\u8fd0\u884c\u4e2d":"\u5931\u8d25"),content:f},l.a.createElement("div",{className:Fe.a.standardList},l.a.createElement(r["a"],{bordered:!1,style:{marginTop:24}},l.a.createElement(J["a"],null,l.a.createElement(Q["a"],{sm:8,xs:24},l.a.createElement(m,{title:"\u9a8c\u8bc1\u901a\u8fc7",value:g,bordered:!0})),l.a.createElement(Q["a"],{sm:8,xs:24},l.a.createElement(m,{title:"\u9a8c\u8bc1\u672a\u901a\u8fc7",value:v,bordered:!0})),l.a.createElement(Q["a"],{sm:8,xs:24},l.a.createElement(m,{title:"\u672a\u547d\u4e2d",value:b})))),l.a.createElement(r["a"],{title:"\u547d\u4e2d\u89c4\u5219",bordered:!1,style:{marginTop:24},bodyStyle:{padding:"0 24px 24px 24px"}},l.a.createElement("div",{className:Fe.a.tableList},l.a.createElement("div",{className:Fe.a.tableListForm},this.renderForm()),l.a.createElement(n["a"],{rowKey:"ruleId",loading:i,dataSource:u.status?p:o.list,bordered:!0,columns:d,pagination:{showSizeChanger:!0,showQuickJumper:!0}})))))}}]),t}(o["PureComponent"]),je=Pe))||je)||je);t["default"]=Ve},tMxR:function(e,t,a){e.exports={headerList:"antd-pro-pages-task-detail-index-headerList",tableList:"antd-pro-pages-task-detail-index-tableList",tableListOperator:"antd-pro-pages-task-detail-index-tableListOperator",tableListForm:"antd-pro-pages-task-detail-index-tableListForm",submitButtons:"antd-pro-pages-task-detail-index-submitButtons",standardList:"antd-pro-pages-task-detail-index-standardList",headerInfo:"antd-pro-pages-task-detail-index-headerInfo",listContent:"antd-pro-pages-task-detail-index-listContent",listContentItem:"antd-pro-pages-task-detail-index-listContentItem",extraContentSearch:"antd-pro-pages-task-detail-index-extraContentSearch",listCard:"antd-pro-pages-task-detail-index-listCard",standardListForm:"antd-pro-pages-task-detail-index-standardListForm",formResult:"antd-pro-pages-task-detail-index-formResult"}}}]);